/*
 * <Helpers>
 * Author:
 */

/* =Table of Contents=
-----------------------------------------------

01|	=Table of Contents=
02|	=H5BP Helpers=
  |		=Image Replacement=
  |		=Feature Hiding=
  |		=Clearfix=
03|	=LESS BP Helpers=
  |		=CSS Modules=

*/

/* =H5BP Helpers=
----------------------------------------------- */

/* =Image Replacement= */
.texthidden{ border:0; font:0/0 a; text-shadow:none; color:transparent; background-color:transparent;}

/* Hide from both screenreaders and browsers:h5bp.com/u */
.hidden{ display:none !important; visibility:hidden;}

/* Hide only visually, but have it available for screenreaders:h5bp.com/v */
.visuallyhidden{ border:0; clip:rect(0 0 0 0); height:1px; margin:-1px; overflow:hidden; padding:0; position:absolute; width:1px;}

/* Extends the .visuallyhidden class to allow the element to be focusable when navigated to via the keyboard:h5bp.com/p */
.visuallyhidden.focusable:active, .visuallyhidden.focusable:focus{ clip:auto; height:auto; margin:0; overflow:visible; position:static; width:auto;}

/* Hide visually and from screenreaders, but maintain layout */
.invisible{ visibility:hidden;}

/* Contain floats:h5bp.com/q */
// clearfix
.clearfix(){
  zoom:1;
  
  &:after{
    content:".";
    display:block;
    height:0;
    clear:both;
    visibility:hidden;
  }
}

/* =LESS BP Helpers=
----------------------------------------------- */

// Embos effect
.colEmbos (@bgcolor) {
    border-top: 1px solid lighten(@bgcolor, 10%);
    border-bottom: 1px solid darken(@bgcolor, 20%);
}
.gradEmbos(@tophighlight, @bttmhighilight) {
    border-top: 1px solid lighten(@tophighlight, 10%);
    border-bottom: 1px solid darken(@bttmhighilight, 20%);
}

// Rounded Corners
.borderRadius(@params){
  -moz-border-radius:@params; // FF 1+
  -webkit-border-radius:@params; // FF 1+
  border-radius:@params; // Opera 10.5, IE 9, Saf5, Chrome
}

// Radial Gradient
.gradientR(@start, @end, @size:300px){
	@min: @size * 2;
	@pos: 0 - @size;
	min-height:@min;
	background:@end center @pos no-repeat; // Non CSS3 browsers get flat color
	background-image: -moz-radial-gradient(center @size, circle contain, @start 5%, @end 100%); // FF 3.6
	background-image: -webkit-radial-gradient(center @size, circle contain, @start 5%, @end 100%); // Safara 5.1+, Chrome 10+
	background-image: -o-radial-gradient(center @size, circle contain, @start 5%, @end 100%); // Opera 11.10+
	background-image: -ms-radial-gradient(center @size, circle contain, @start 5%, @end 100%); // IE10
}

// Top-to-Bottom Gradient
.gradientV(@start, @end){
  background:(@start + @end) / 2; // Non CSS3 browsers get the average color
  background-image:-moz-linear-gradient(top,  @start, @end); // FF 3.6
  background-image:-webkit-gradient(linear, left top, left bottom, from(@start), to(@end)); // Safari 4+, Chrome
  background-image:-webkit-linear-gradient(top, @start, @end); // Chrome 10+, Safari 5.1+
  background-image:-o-linear-gradient(top, @start, @end); // Opera 11.10+
  background-image:linear-gradient(top, @start, @end); // CSS3
  filter:~'formatString("progid:DXImageTransform.Microsoft.gradient(startColorstr={0}, endColorstr={1})", @start, @end)'; // IE6 & 7
  -ms-filter:formatString("progid:DXImageTransform.Microsoft.gradient(startColorstr={0}, endColorstr={1})", @start, @end); // IE8
  background-image:-ms-linear-gradient(top, @start, @end); // IE10
}

// Left-to-Right Gradient
.gradientH(@start, @end){
  background:(@start + @end) / 2; // Non CSS3 browsers get the average color
  background-image:-moz-linear-gradient(left,  @start, @end); // FF 3.6
  background-image:-webkit-gradient(linear, left center, right center, from(@start), to(@end)); // Safari 4+, Chrome
  background-image:-webkit-linear-gradient(left center, right center, from(@start), to(@end)); // Chrome 10+, Safari 5.1+
  background-image:-o-linear-gradient(left, @start, @end); // Opera 11.10+
  background-image:linear-gradient(left, @start, @end); // CSS3
  filter:~'formatString("progid:DXImageTransform.Microsoft.gradient(startColorstr={0}, endColorstr={1}, GradientType=1)", @start, @end)'; // IE6 & 7
  -ms-filter:formatString("progid:DXImageTransform.Microsoft.gradient(startColorstr={0}, endColorstr={1}, GradientType=1)", @start, @end); // IE8
  background-image:-ms-linear-gradient(left, @start, @end); // IE10
}

// Top-to-Bottom 3 Stop Gradient
.gradientV3(@start, @middle, @middlePos, @end){
  background:(@start + @end) / 2; // Non CSS3 browsers get the average color
  background-image:-moz-linear-gradient(top,  @start, @middle @middlePos * 1%, @end); // FF 3.6
  background-image:-webkit-gradient(linear, left top, left bottom, from(@start), color-stop(@middlePos / 100, @middle), to(@end)); // Safari 4+, Chrome
  background-image:-webkit-linear-gradient(top, from(@start), color-stop(@middlePos / 100, @middle), to(@end)); // Chrome 10+, Safari 5.1+
  background-image:-o-linear-gradient(top, @start 0%, @middle @middlePos * 1%, @end 100%); // Opera 11.10+
  filter:~'formatString("progid:DXImageTransform.Microsoft.gradient(startColorstr={0}, endColorstr={1})", @start, @end)'; // IE6 & 7
  -ms-filter:formatString("progid:DXImageTransform.Microsoft.gradient(startColorstr={0}, endColorstr={1})", @start, @end); // IE8
  background-image:linear-gradient(top, @start 0%, @middle @middlePos * 1%, @end 100%); // CSS3
}

// Left-to-Right 3 Stop Gradient
.gradientH3(@start, @middle, @middlePos, @end){
  background:(@start + @end) / 2; // Non CSS3 browsers get the average color
  background-image:-moz-linear-gradient(left,  @start, @middle @middlePos * 1%, @end); // FF 3.6
  background-image:-webkit-gradient(linear, left center, right center, from(@start), color-stop(@middlePos / 100, @middle), to(@end)); // Safari 4+, Chrome
  background-image:-webkit-linear-gradient(left, from(@start), color-stop(@middlePos / 100, @middle), to(@end)); // Chrome 10+, Safari 5.1+
  background-image:-o-linear-gradient(left, @start 0%, @middle @middlePos * 1%, @end 100%); // Opera 11.10+
  filter:~'formatString("progid:DXImageTransform.Microsoft.gradient(startColorstr={0}, endColorstr={1})", @start, @end)'; // IE6 & 7
  -ms-filter:formatString("progid:DXImageTransform.Microsoft.gradient(startColorstr={0}, endColorstr={1})", @start, @end); // IE8
  background-image:linear-gradient(left, @start 0%, @middle @middlePos * 1%, @end 100%); // CSS3
}

// Top-to-Bottom 4 Stop Gradient
.gradientV4(@color1, @color2, @position2, @color3, @position3, @color4){
  background:(@color1 + @color4) / 2; // Non CSS3 browsers get the average color
  background-image:-moz-linear-gradient(top,  @color1, @color2 @position2 * 1%, @color3 @position3 * 1%, @color4); // FF 3.6
  background-image:-webkit-gradient(linear, left top, left bottom, from(@color1), color-stop(@position2 / 100, @color2), color-stop(@position3 / 100, @color3), to(@color4)); // Safari 4+, Chrome
  background-image:-webkit-linear-gradient(top, from(@color1), color-stop(@position2 / 100, @color2), color-stop(@position3 / 100, @color3), to(@color4)); // Chrome 10+, Safari 5.1+
  background-image:-o-linear-gradient(top, @color1 0%, @color2 @position2 * 1%, @color3 @position3 * 1%, @color4 100%); // Opera 11.10+
  filter:~'formatString("progid:DXImageTransform.Microsoft.gradient(startColorstr={0}, endColorstr={1})", @color1, @color4)'; // IE6 & 7
  -ms-filter:formatString("progid:DXImageTransform.Microsoft.gradient(startColorstr={0}, endColorstr={1})", @color1, @color4); // IE8
  background-image:linear-gradient(top, @color1 0%, @color2 @position2 * 1%, @color3 @position3 * 1%, @color4 100%); // CSS3
}

// Left-to-Right 4 Stop Gradient
.gradientH4(@color1, @color2, @position2, @color3, @position3, @color4){
  background:(@color1 + @color4) / 2; // Non CSS3 browsers get the average color
  background-image:-moz-linear-gradient(left,  @color1, @color2 @position2 * 1%, @color3 @position3 * 1%, @color4); // FF 3.6
  background-image:-webkit-gradient(linear, left center, right center, from(@color1), color-stop(@position2 / 100, @color2), color-stop(@position3 / 100, @color3), to(@color4)); // Safari 4+, Chrome
  background-image:-webkit-linear-gradient(left center, right center, from(@color1), color-stop(@position2 / 100, @color2), color-stop(@position3 / 100, @color3), to(@color4)); // Chrome 10+, Safari 5.1+
  background-image:-o-linear-gradient(left, @color1 0%, @color2 @position2 * 1%, @color3 @position3 * 1%, @color4 100%); // Opera 11.10+
  filter:~'formatString("progid:DXImageTransform.Microsoft.gradient(startColorstr={0}, endColorstr={1}, GradientType=1)", @color1, @color4)'; // IE6 & 7
  -ms-filter:formatString("progid:DXImageTransform.Microsoft.gradient(startColorstr={0}, endColorstr={1}, GradientType=1)", @color1, @color4); // IE8
  background-image:linear-gradient(left, @color1 0%, @color2 @position2 * 1%, @color3 @position3 * 1%, @color4 100%); // CSS3
}

// Drop shadow
.boxShadow(@params){
  -moz-box-shadow:@params; // FF3.5+
  -webkit-box-shadow:@params; // Saf3.0+, Chrome
  box-shadow:@params; // Opera 10.5, IE9+, Chrome 10+
}

// Transition
.transition(@params){
  -moz-transition:@params; // FF4+
  -o-transition:@params; // Opera 10.5+
  -webkit-transition:@params; // Safari 3.2+, Chrome
  -ms-transition:@params; // IE10
  transition:@params; // CSS3
}

// Centered Content Blocks

.wrapOut(@grid: 960px){
  width:100%;
}

.wrapIn(@grid: 960px){
  max-width:@grid;
  margin:0 auto;
}

// Call To Action Button

.callToAction(@buttonColor:#c97200){
  // slave colors
  @defaultStart:@buttonColor + 35%;
  @defaultEnd:@buttonColor;
  @borderColor:@buttonColor - 50%;
  
  // button positioning
  margin:10px 0 0 0;
  padding:4px 13px 2px 13px;
  
  // text styles
  font-size:30px;
  color:#fff;
  text-decoration:none;
  letter-spacing:.1em;
  text-transform:uppercase;
  text-shadow:rgba(0,0,0,0.2) -1px 0, rgba(0,0,0,0.2) 0 -1px, rgba(255,255,255,0.2) 0 1px;
  
  // box styles
  border:1px solid @borderColor;
  .borderRadius(6px);
  .boxShadow(0px 0px 2px @borderColor);
  .gradientV4(@defaultStart, @defaultStart, 46, @defaultEnd, 54, @defaultEnd);
  
  // hover state
  &:hover{
    color:#fff;
    
    // gradient colors
    @start:@defaultStart - 20%;
    @end:@defaultEnd - 20%;
    
    .gradientV4(@start, @start, 46, @end, 54, @end);
  }
  
  // active (click) state
  &:active{
    color:#fff;
    
    // gradient colors
    @start:@defaultStart - 40%;
    @end:@defaultEnd - 40%;
    
    .gradientV4(@start, @start, 46, @end, 54, @end);
  }
}

// enable better kerning and ligatures for Webkit. FF has this enabled by default for fonts >= 20px. IE does not support this
.optimizeLegibility(){
	text-rendering:optimizeLegibility;
}

// font sizing
.font-size(@font-size: 16, @base: 16){
	@rem: (@font-size / @base);
	font-size: @font-size * 1px;
	font-size: ~"@{rem}rem";
}
